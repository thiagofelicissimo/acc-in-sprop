<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>AccInSProp.theories.autosubst.RAsimpl</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">AccInSProp.theories.autosubst.RAsimpl</h1>

<div class="code">
</div>

<div class="doc">
Autosubst reflective tactic that should be more efficient than asimpl

<div class="paragraph"> </div>

  Ways to improve:
<ul class="doclist">
<li> Ideally, we could do much more in one step if we could incude all rules
    pertaining to constructors of the syntax, but this should be generated.

</li>
<li> shift could be shiftn instead, as we often need those, better than using
    addn manually, and the tactic could handle those easily.

</li>
</ul>

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Utf8</span> <span class="id" title="library">List</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">AccInSProp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="AccInSProp.theories.autosubst.core.html#"><span class="id" title="library">core</span></a> <a class="idref" href="AccInSProp.theories.autosubst.unscoped.html#"><span class="id" title="library">unscoped</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Setoid</span> <span class="id" title="library">Morphisms</span> <span class="id" title="library">Relation_Definitions</span>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="module">ListNotations</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="quoted_nat" class="idref" href="#quoted_nat"><span class="id" title="definition, inductive"><span id="quoted_nat_rect" class="id"><span id="quoted_nat_ind" class="id"><span id="quoted_nat_rec" class="id"><span id="quoted_nat_sind" class="id">quoted_nat</span></span></span></span></span></a> :=<br/>
| <a id="qnat_atom" class="idref" href="#qnat_atom"><span class="id" title="constructor">qnat_atom</span></a> (<a id="n:3" class="idref" href="#n:3"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
| <a id="q0" class="idref" href="#q0"><span class="id" title="constructor">q0</span></a><br/>
| <a id="qS" class="idref" href="#qS"><span class="id" title="constructor">qS</span></a> (<a id="n:4" class="idref" href="#n:4"><span class="id" title="binder">n</span></a> : <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#quoted_nat:1"><span class="id" title="inductive">quoted_nat</span></a>).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="quoted_ren" class="idref" href="#quoted_ren"><span class="id" title="definition, inductive"><span id="quoted_ren_rect" class="id"><span id="quoted_ren_ind" class="id"><span id="quoted_ren_rec" class="id"><span id="quoted_ren_sind" class="id">quoted_ren</span></span></span></span></span></a> :=<br/>
| <a id="qren_atom" class="idref" href="#qren_atom"><span class="id" title="constructor">qren_atom</span></a> (<a id="9d3848eaa2dcabf683c0d84a4b2fd864" class="idref" href="#9d3848eaa2dcabf683c0d84a4b2fd864"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <span class="id" title="notation">→</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
| <a id="qren_comp" class="idref" href="#qren_comp"><span class="id" title="constructor">qren_comp</span></a> (<a id="r:8" class="idref" href="#r:8"><span class="id" title="binder">r</span></a> <a id="q:9" class="idref" href="#q:9"><span class="id" title="binder">q</span></a> : <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#quoted_ren:5"><span class="id" title="inductive">quoted_ren</span></a>)<br/>
| <a id="qren_cons" class="idref" href="#qren_cons"><span class="id" title="constructor">qren_cons</span></a> (<a id="n:10" class="idref" href="#n:10"><span class="id" title="binder">n</span></a> : <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#quoted_nat"><span class="id" title="inductive">quoted_nat</span></a>) (<a id="q:11" class="idref" href="#q:11"><span class="id" title="binder">q</span></a> : <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#quoted_ren:5"><span class="id" title="inductive">quoted_ren</span></a>)<br/>
| <a id="qren_id" class="idref" href="#qren_id"><span class="id" title="constructor">qren_id</span></a><br/>
| <a id="qren_shift" class="idref" href="#qren_shift"><span class="id" title="constructor">qren_shift</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="unquote_nat" class="idref" href="#unquote_nat"><span class="id" title="definition">unquote_nat</span></a> <a id="q:12" class="idref" href="#q:12"><span class="id" title="binder">q</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#q:12"><span class="id" title="variable">q</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qnat_atom"><span class="id" title="constructor">qnat_atom</span></a> <span class="id" title="var">n</span> ⇒ <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#q0"><span class="id" title="constructor">q0</span></a> ⇒ 0<br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qS"><span class="id" title="constructor">qS</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/corelib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#unquote_nat:13"><span class="id" title="definition">unquote_nat</span></a> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="unquote_ren" class="idref" href="#unquote_ren"><span class="id" title="definition">unquote_ren</span></a> <a id="q:15" class="idref" href="#q:15"><span class="id" title="binder">q</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#q:15"><span class="id" title="variable">q</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_atom"><span class="id" title="constructor">qren_atom</span></a> ρ ⇒ ρ<br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_comp"><span class="id" title="constructor">qren_comp</span></a> <span class="id" title="var">r</span> <span class="id" title="var">q</span> ⇒ <a class="idref" href="AccInSProp.theories.autosubst.core.html#funcomp"><span class="id" title="definition">funcomp</span></a> (<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#unquote_ren:16"><span class="id" title="definition">unquote_ren</span></a> <span class="id" title="var">r</span>) (<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#unquote_ren:16"><span class="id" title="definition">unquote_ren</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#q:15"><span class="id" title="variable">q</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_cons"><span class="id" title="constructor">qren_cons</span></a> <span class="id" title="var">n</span> <span class="id" title="var">q</span> ⇒ <a class="idref" href="AccInSProp.theories.autosubst.unscoped.html#scons"><span class="id" title="definition">scons</span></a> (<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#unquote_nat"><span class="id" title="definition">unquote_nat</span></a> <span class="id" title="var">n</span>) (<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#unquote_ren:16"><span class="id" title="definition">unquote_ren</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#q:15"><span class="id" title="variable">q</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_id"><span class="id" title="constructor">qren_id</span></a> ⇒ <a class="idref" href="AccInSProp.theories.autosubst.unscoped.html#id"><span class="id" title="definition">id</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_shift"><span class="id" title="constructor">qren_shift</span></a> ⇒ <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/corelib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Evaluation 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="apply_ren" class="idref" href="#apply_ren"><span class="id" title="definition">apply_ren</span></a> (<a id="r:18" class="idref" href="#r:18"><span class="id" title="binder">r</span></a> : <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#quoted_ren"><span class="id" title="inductive">quoted_ren</span></a>) (<a id="n:19" class="idref" href="#n:19"><span class="id" title="binder">n</span></a> : <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#quoted_nat"><span class="id" title="inductive">quoted_nat</span></a>) : <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#quoted_nat"><span class="id" title="inductive">quoted_nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:18"><span class="id" title="variable">r</span></a>, <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#n:19"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_atom"><span class="id" title="constructor">qren_atom</span></a> ρ, <span class="id" title="var">_</span> ⇒ <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qnat_atom"><span class="id" title="constructor">qnat_atom</span></a> (ρ (<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#unquote_nat"><span class="id" title="definition">unquote_nat</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#n:19"><span class="id" title="variable">n</span></a>))<br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_id"><span class="id" title="constructor">qren_id</span></a>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#n:19"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_shift"><span class="id" title="constructor">qren_shift</span></a>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qS"><span class="id" title="constructor">qS</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#n:19"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span>, <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qnat_atom"><span class="id" title="constructor">qnat_atom</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qnat_atom"><span class="id" title="constructor">qnat_atom</span></a> (<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#unquote_ren"><span class="id" title="definition">unquote_ren</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:18"><span class="id" title="variable">r</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#n:19"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_comp"><span class="id" title="constructor">qren_comp</span></a> <span class="id" title="var">r</span> <span class="id" title="var">q</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#apply_ren:20"><span class="id" title="definition">apply_ren</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:18"><span class="id" title="variable">r</span></a> (<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#apply_ren:20"><span class="id" title="definition">apply_ren</span></a> <span class="id" title="var">q</span> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#n:19"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_cons"><span class="id" title="constructor">qren_cons</span></a> <span class="id" title="var">m</span> <span class="id" title="var">q</span>, <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#q0"><span class="id" title="constructor">q0</span></a> ⇒ <span class="id" title="var">m</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_cons"><span class="id" title="constructor">qren_cons</span></a> <span class="id" title="var">m</span> <span class="id" title="var">q</span>, <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qS"><span class="id" title="constructor">qS</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#apply_ren:20"><span class="id" title="definition">apply_ren</span></a> <span class="id" title="var">q</span> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#n:19"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="eval_ren_comp_view" class="idref" href="#eval_ren_comp_view"><span class="id" title="definition, inductive"><span id="eval_ren_comp_view_rect" class="id"><span id="eval_ren_comp_view_ind" class="id"><span id="eval_ren_comp_view_rec" class="id"><span id="eval_ren_comp_view_sind" class="id">eval_ren_comp_view</span></span></span></span></span></a> : <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#quoted_ren"><span class="id" title="inductive">quoted_ren</span></a> <span class="id" title="notation">→</span> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#quoted_ren"><span class="id" title="inductive">quoted_ren</span></a> <span class="id" title="notation">→</span> <span class="id" title="keyword">Type</span> :=<br/>
| <a id="eval_ren_id_l" class="idref" href="#eval_ren_id_l"><span class="id" title="constructor">eval_ren_id_l</span></a> <a id="q:25" class="idref" href="#q:25"><span class="id" title="binder">q</span></a> : <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren_comp_view:23"><span class="id" title="inductive">eval_ren_comp_view</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_id"><span class="id" title="constructor">qren_id</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#q:25"><span class="id" title="variable">q</span></a><br/>
| <a id="eval_ren_id_r" class="idref" href="#eval_ren_id_r"><span class="id" title="constructor">eval_ren_id_r</span></a> <a id="r:26" class="idref" href="#r:26"><span class="id" title="binder">r</span></a> : <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren_comp_view:23"><span class="id" title="inductive">eval_ren_comp_view</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:26"><span class="id" title="variable">r</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_id"><span class="id" title="constructor">qren_id</span></a><br/>
| <a id="eval_ren_cons_shift" class="idref" href="#eval_ren_cons_shift"><span class="id" title="constructor">eval_ren_cons_shift</span></a> <a id="n:27" class="idref" href="#n:27"><span class="id" title="binder">n</span></a> <a id="r:28" class="idref" href="#r:28"><span class="id" title="binder">r</span></a> : <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren_comp_view:23"><span class="id" title="inductive">eval_ren_comp_view</span></a> (<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_cons"><span class="id" title="constructor">qren_cons</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#n:27"><span class="id" title="variable">n</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:28"><span class="id" title="variable">r</span></a>) <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_shift"><span class="id" title="constructor">qren_shift</span></a><br/>
| <a id="eval_ren_comp_r" class="idref" href="#eval_ren_comp_r"><span class="id" title="constructor">eval_ren_comp_r</span></a> <a id="r:29" class="idref" href="#r:29"><span class="id" title="binder">r</span></a> <a id="u:30" class="idref" href="#u:30"><span class="id" title="binder">u</span></a> <a id="v:31" class="idref" href="#v:31"><span class="id" title="binder">v</span></a> : <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren_comp_view:23"><span class="id" title="inductive">eval_ren_comp_view</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:29"><span class="id" title="variable">r</span></a> (<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_comp"><span class="id" title="constructor">qren_comp</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#u:30"><span class="id" title="variable">u</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#v:31"><span class="id" title="variable">v</span></a>)<br/>
| <a id="eval_ren_cons_r" class="idref" href="#eval_ren_cons_r"><span class="id" title="constructor">eval_ren_cons_r</span></a> <a id="r:32" class="idref" href="#r:32"><span class="id" title="binder">r</span></a> <a id="n:33" class="idref" href="#n:33"><span class="id" title="binder">n</span></a> <a id="q:34" class="idref" href="#q:34"><span class="id" title="binder">q</span></a> : <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren_comp_view:23"><span class="id" title="inductive">eval_ren_comp_view</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:32"><span class="id" title="variable">r</span></a> (<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_cons"><span class="id" title="constructor">qren_cons</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#n:33"><span class="id" title="variable">n</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#q:34"><span class="id" title="variable">q</span></a>)<br/>
| <a id="eval_ren_comp_other" class="idref" href="#eval_ren_comp_other"><span class="id" title="constructor">eval_ren_comp_other</span></a> <a id="r:35" class="idref" href="#r:35"><span class="id" title="binder">r</span></a> <a id="q:36" class="idref" href="#q:36"><span class="id" title="binder">q</span></a> : <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren_comp_view:23"><span class="id" title="inductive">eval_ren_comp_view</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:35"><span class="id" title="variable">r</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#q:36"><span class="id" title="variable">q</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="eval_ren_comp_c" class="idref" href="#eval_ren_comp_c"><span class="id" title="definition">eval_ren_comp_c</span></a> <a id="r:37" class="idref" href="#r:37"><span class="id" title="binder">r</span></a> <a id="q:38" class="idref" href="#q:38"><span class="id" title="binder">q</span></a> : <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren_comp_view"><span class="id" title="inductive">eval_ren_comp_view</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:37"><span class="id" title="variable">r</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#q:38"><span class="id" title="variable">q</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:37"><span class="id" title="variable">r</span></a>, <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#q:38"><span class="id" title="variable">q</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_id"><span class="id" title="constructor">qren_id</span></a>, <span class="id" title="var">q</span> ⇒ <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren_id_l"><span class="id" title="constructor">eval_ren_id_l</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#q:38"><span class="id" title="variable">q</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">r</span>, <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_id"><span class="id" title="constructor">qren_id</span></a> ⇒ <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren_id_r"><span class="id" title="constructor">eval_ren_id_r</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:37"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_cons"><span class="id" title="constructor">qren_cons</span></a> <span class="id" title="var">n</span> <span class="id" title="var">r</span>, <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_shift"><span class="id" title="constructor">qren_shift</span></a> ⇒ <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren_cons_shift"><span class="id" title="constructor">eval_ren_cons_shift</span></a> <span class="id" title="var">n</span> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:37"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">r</span>, <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_comp"><span class="id" title="constructor">qren_comp</span></a> <span class="id" title="var">u</span> <span class="id" title="var">v</span> ⇒ <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren_comp_r"><span class="id" title="constructor">eval_ren_comp_r</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:37"><span class="id" title="variable">r</span></a> <span class="id" title="var">u</span> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">r</span>, <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_cons"><span class="id" title="constructor">qren_cons</span></a> <span class="id" title="var">n</span> <span class="id" title="var">q</span> ⇒ <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren_cons_r"><span class="id" title="constructor">eval_ren_cons_r</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:37"><span class="id" title="variable">r</span></a> <span class="id" title="var">n</span> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#q:38"><span class="id" title="variable">q</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">r</span>, <span class="id" title="var">q</span> ⇒  <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren_comp_other"><span class="id" title="constructor">eval_ren_comp_other</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:37"><span class="id" title="variable">r</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#q:38"><span class="id" title="variable">q</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="eval_ren" class="idref" href="#eval_ren"><span class="id" title="definition">eval_ren</span></a> (<a id="r:41" class="idref" href="#r:41"><span class="id" title="binder">r</span></a> : <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#quoted_ren"><span class="id" title="inductive">quoted_ren</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:41"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_comp"><span class="id" title="constructor">qren_comp</span></a> <span class="id" title="var">r</span> <span class="id" title="var">q</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="r:44" class="idref" href="#r:44"><span class="id" title="binder">r</span></a> := <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren:42"><span class="id" title="definition">eval_ren</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:41"><span class="id" title="variable">r</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="q:45" class="idref" href="#q:45"><span class="id" title="binder">q</span></a> := <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren:42"><span class="id" title="definition">eval_ren</span></a> <span class="id" title="var">q</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren_comp_c"><span class="id" title="definition">eval_ren_comp_c</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:44"><span class="id" title="variable">r</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#q:45"><span class="id" title="variable">q</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren_id_l"><span class="id" title="constructor">eval_ren_id_l</span></a> <span class="id" title="var">q</span> ⇒ <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#q:45"><span class="id" title="variable">q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren_id_r"><span class="id" title="constructor">eval_ren_id_r</span></a> <span class="id" title="var">r</span> ⇒ <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:44"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren_cons_shift"><span class="id" title="constructor">eval_ren_cons_shift</span></a> <span class="id" title="var">n</span> <span class="id" title="var">r</span> ⇒ <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:44"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren_comp_r"><span class="id" title="constructor">eval_ren_comp_r</span></a> <span class="id" title="var">r</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> ⇒  <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_comp"><span class="id" title="constructor">qren_comp</span></a> (<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_comp"><span class="id" title="constructor">qren_comp</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:44"><span class="id" title="variable">r</span></a> <span class="id" title="var">u</span>) <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren_cons_r"><span class="id" title="constructor">eval_ren_cons_r</span></a> <span class="id" title="var">r</span> <span class="id" title="var">n</span> <span class="id" title="var">q</span> ⇒  <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_cons"><span class="id" title="constructor">qren_cons</span></a> (<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#apply_ren"><span class="id" title="definition">apply_ren</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:44"><span class="id" title="variable">r</span></a> <span class="id" title="var">n</span>) (<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_comp"><span class="id" title="constructor">qren_comp</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:44"><span class="id" title="variable">r</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#q:45"><span class="id" title="variable">q</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren_comp_other"><span class="id" title="constructor">eval_ren_comp_other</span></a> <span class="id" title="var">r</span> <span class="id" title="var">q</span> ⇒ <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_comp"><span class="id" title="constructor">qren_comp</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:44"><span class="id" title="variable">r</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#q:45"><span class="id" title="variable">q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_cons"><span class="id" title="constructor">qren_cons</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#q0"><span class="id" title="constructor">q0</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_shift"><span class="id" title="constructor">qren_shift</span></a> ⇒ <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_id"><span class="id" title="constructor">qren_id</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_cons"><span class="id" title="constructor">qren_cons</span></a> <span class="id" title="var">n</span> <span class="id" title="var">r</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="r:46" class="idref" href="#r:46"><span class="id" title="binder">r</span></a> := <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren:42"><span class="id" title="definition">eval_ren</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:41"><span class="id" title="variable">r</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_cons"><span class="id" title="constructor">qren_cons</span></a> <span class="id" title="var">n</span> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:46"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:41"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="qren_id_view" class="idref" href="#qren_id_view"><span class="id" title="definition, inductive"><span id="qren_id_view_rect" class="id"><span id="qren_id_view_ind" class="id"><span id="qren_id_view_rec" class="id"><span id="qren_id_view_sind" class="id">qren_id_view</span></span></span></span></span></a> : <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#quoted_ren"><span class="id" title="inductive">quoted_ren</span></a> <span class="id" title="notation">→</span> <span class="id" title="keyword">Type</span> :=<br/>
| <a id="is_qren_id" class="idref" href="#is_qren_id"><span class="id" title="constructor">is_qren_id</span></a> : <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_id_view:47"><span class="id" title="inductive">qren_id_view</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_id"><span class="id" title="constructor">qren_id</span></a><br/>
| <a id="not_qren_id" class="idref" href="#not_qren_id"><span class="id" title="constructor">not_qren_id</span></a> <a id="r:49" class="idref" href="#r:49"><span class="id" title="binder">r</span></a> : <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_id_view:47"><span class="id" title="inductive">qren_id_view</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:49"><span class="id" title="variable">r</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="test_qren_id" class="idref" href="#test_qren_id"><span class="id" title="definition">test_qren_id</span></a> <a id="r:50" class="idref" href="#r:50"><span class="id" title="binder">r</span></a> : <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_id_view"><span class="id" title="inductive">qren_id_view</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:50"><span class="id" title="variable">r</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:50"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_id"><span class="id" title="constructor">qren_id</span></a> ⇒ <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#is_qren_id"><span class="id" title="constructor">is_qren_id</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">r</span> ⇒ <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#not_qren_id"><span class="id" title="constructor">not_qren_id</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:50"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Correctness 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="apply_ren_sound" class="idref" href="#apply_ren_sound"><span class="id" title="lemma">apply_ren_sound</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">∀</span> <a id="r:52" class="idref" href="#r:52"><span class="id" title="binder">r</span></a> <a id="n:53" class="idref" href="#n:53"><span class="id" title="binder">n</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#unquote_nat"><span class="id" title="definition">unquote_nat</span></a> (<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#apply_ren"><span class="id" title="definition">apply_ren</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:52"><span class="id" title="variable">r</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#n:53"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#unquote_ren"><span class="id" title="definition">unquote_ren</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:52"><span class="id" title="variable">r</span></a> (<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#unquote_nat"><span class="id" title="definition">unquote_nat</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#n:53"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">r</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> |- ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHr1</span>, <span class="id" title="var">IHr2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHr1</span>, <span class="id" title="var">IHr2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHr</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">set_eval_ren</span> <span class="id" title="var">na</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [ <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren"><span class="id" title="definition">eval_ren</span></a> ?<span class="id" title="var">r</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">na</span> := <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren"><span class="id" title="definition">eval_ren</span></a> <span class="id" title="var">r</span>) <span class="id" title="tactic">in</span> × ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">na</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">set_unquote_ren</span> <span class="id" title="var">na</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [ <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#unquote_ren"><span class="id" title="definition">unquote_ren</span></a> ?<span class="id" title="var">r</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">na</span> := <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#unquote_ren"><span class="id" title="definition">unquote_ren</span></a> <span class="id" title="var">r</span>) <span class="id" title="tactic">in</span> × ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">na</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">set_unquote_rens</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="keyword">let</span> <span class="id" title="var">n</span> := <span class="id" title="tactic">fresh</span> "r" <span class="id" title="tactic">in</span> <span class="id" title="var">set_unquote_ren</span> <span class="id" title="var">n</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eval_ren_sound" class="idref" href="#eval_ren_sound"><span class="id" title="lemma">eval_ren_sound</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">∀</span> <a id="r:54" class="idref" href="#r:54"><span class="id" title="binder">r</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://rocq-prover.org/doc/V9.1.0/corelib//Corelib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/corelib//Corelib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> (<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#unquote_ren"><span class="id" title="definition">unquote_ren</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:54"><span class="id" title="variable">r</span></a>) (<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#unquote_ren"><span class="id" title="definition">unquote_ren</span></a> (<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren"><span class="id" title="definition">eval_ren</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:54"><span class="id" title="variable">r</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">r</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> |- ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">set_eval_ren</span> <span class="id" title="var">er1</span>. <span class="id" title="var">set_eval_ren</span> <span class="id" title="var">er2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren_comp_c"><span class="id" title="definition">eval_ren_comp_c</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">unfold</span> <a class="idref" href="AccInSProp.theories.autosubst.core.html#funcomp"><span class="id" title="definition">funcomp</span></a> ; <span class="id" title="var">cbn</span> - [<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#apply_ren"><span class="id" title="definition">apply_ren</span></a>] <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHr1</span>, <span class="id" title="var">IHr2</span> ; <span class="id" title="tactic">reflexivity</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHr1</span>, <span class="id" title="var">IHr2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#apply_ren_sound"><span class="id" title="lemma">apply_ren_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="AccInSProp.theories.autosubst.unscoped.html#scons_comp'"><span class="id" title="lemma">scons_comp'</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="AccInSProp.theories.autosubst.unscoped.html#scons_morphism"><span class="id" title="instance">scons_morphism</span></a>. 1: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">set</span> (<span class="id" title="var">rr</span> := <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren"><span class="id" title="definition">eval_ren</span></a> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="AccInSProp.theories.autosubst.unscoped.html#scons_morphism"><span class="id" title="instance">scons_morphism</span></a>. 1: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">set</span> (<span class="id" title="var">rr</span> := <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren"><span class="id" title="definition">eval_ren</span></a> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="AccInSProp.theories.autosubst.unscoped.html#scons_morphism"><span class="id" title="instance">scons_morphism</span></a>. 1: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="AccInSProp.theories.autosubst.unscoped.html#scons_eta_id'"><span class="id" title="lemma">scons_eta_id'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="AccInSProp.theories.autosubst.unscoped.html#scons_morphism"><span class="id" title="instance">scons_morphism</span></a>. 1: <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Quoting 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">quote_nat</span> <span class="id" title="var">n</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| 0 ⇒ <span class="id" title="keyword">constr</span>:(<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#q0"><span class="id" title="constructor">q0</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.unscoped.html#var_zero"><span class="id" title="definition">var_zero</span></a> ⇒ <span class="id" title="keyword">constr</span>:(<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#q0"><span class="id" title="constructor">q0</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/corelib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> ?<span class="id" title="var">n</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">q</span> := <span class="id" title="var">quote_nat</span> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:(<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qS"><span class="id" title="constructor">qS</span></a> <span class="id" title="var">q</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">constr</span>:(<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qnat_atom"><span class="id" title="constructor">qnat_atom</span></a> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">quote_ren</span> <span class="id" title="var">r</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">r</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.core.html#funcomp"><span class="id" title="definition">funcomp</span></a> ?<span class="id" title="var">r</span> ?<span class="id" title="var">r'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">q</span> := <span class="id" title="var">quote_ren</span> <span class="id" title="var">r</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">q'</span> := <span class="id" title="var">quote_ren</span> <span class="id" title="var">r'</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:(<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_comp"><span class="id" title="constructor">qren_comp</span></a> <span class="id" title="var">q</span> <span class="id" title="var">q'</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.unscoped.html#scons"><span class="id" title="definition">scons</span></a> ?<span class="id" title="var">n</span> ?<span class="id" title="var">r</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">qn</span> := <span class="id" title="var">quote_nat</span> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">q</span> := <span class="id" title="var">quote_ren</span> <span class="id" title="var">r</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:(<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_cons"><span class="id" title="constructor">qren_cons</span></a> <span class="id" title="var">qn</span> <span class="id" title="var">q</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.unscoped.html#id"><span class="id" title="definition">id</span></a> ⇒ <span class="id" title="keyword">constr</span>:(<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_id"><span class="id" title="constructor">qren_id</span></a>)<br/>
&nbsp;&nbsp;| <span class="id" title="notation">λ</span> <a id="x:55" class="idref" href="#x:55"><span class="id" title="binder"><span id="x:56" class="id">x</span></span></a><span class="id" title="notation">,</span> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#x:55"><span class="id" title="variable">x</span></a> ⇒ <span class="id" title="keyword">constr</span>:(<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_id"><span class="id" title="constructor">qren_id</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="AccInSProp.theories.autosubst.unscoped.html#shift"><span class="id" title="definition">shift</span></a> ⇒ <span class="id" title="keyword">constr</span>:(<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_shift"><span class="id" title="constructor">qren_shift</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/corelib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> ⇒ <span class="id" title="keyword">constr</span>:(<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_shift"><span class="id" title="constructor">qren_shift</span></a>)<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Instead&nbsp;of&nbsp;minimize&nbsp;*)</span><br/>
&nbsp;&nbsp;| <span class="id" title="notation">λ</span> <a id="x:57" class="idref" href="#x:57"><span class="id" title="binder"><span id="x:58" class="id">x</span></span></a><span class="id" title="notation">,</span> ?<span class="id" title="var">g</span> (?<span class="id" title="var">f</span> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#x:57"><span class="id" title="variable">x</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">t</span> := <span class="id" title="keyword">constr</span>:(<a class="idref" href="AccInSProp.theories.autosubst.core.html#funcomp"><span class="id" title="definition">funcomp</span></a> <span class="id" title="var">g</span> <span class="id" title="var">f</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">quote_ren</span> <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;| <span class="id" title="notation">λ</span> <a id="x:59" class="idref" href="#x:59"><span class="id" title="binder"><span id="x:60" class="id">x</span></span></a><span class="id" title="notation">,</span> ?<span class="id" title="var">f</span> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#x:59"><span class="id" title="variable">x</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">t</span> := <span class="id" title="keyword">constr</span>:(<span class="id" title="var">f</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">quote_ren</span> <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">constr</span>:(<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#qren_atom"><span class="id" title="constructor">qren_atom</span></a> <span class="id" title="var">r</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Main tactic

<div class="paragraph"> </div>

  To make it user-extensible, we rely on type classes.

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Create HintDb</span> <span class="id" title="var">asimpl_unfold</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Common&nbsp;*)</span><br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Unfold</span><br/>
&nbsp;&nbsp;<a class="idref" href="AccInSProp.theories.autosubst.unscoped.html#Var"><span class="id" title="class">Var</span></a> <a class="idref" href="AccInSProp.theories.autosubst.unscoped.html#ids"><span class="id" title="definition">ids</span></a> <a class="idref" href="AccInSProp.theories.autosubst.unscoped.html#Ren1"><span class="id" title="class">Ren1</span></a> <a class="idref" href="AccInSProp.theories.autosubst.unscoped.html#ren1"><span class="id" title="definition">ren1</span></a> <a class="idref" href="AccInSProp.theories.autosubst.unscoped.html#Subst1"><span class="id" title="class">Subst1</span></a> <a class="idref" href="AccInSProp.theories.autosubst.unscoped.html#subst1"><span class="id" title="definition">subst1</span></a> <a class="idref" href="AccInSProp.theories.autosubst.unscoped.html#up_ren"><span class="id" title="definition">up_ren</span></a> <a class="idref" href="AccInSProp.theories.autosubst.unscoped.html#var_zero"><span class="id" title="definition">var_zero</span></a><br/>
&nbsp;&nbsp;: <span class="id" title="var">asimpl_unfold</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "aunfold" := <span class="id" title="var">autounfold</span> <span class="id" title="keyword">with</span> <span class="id" title="var">asimpl_unfold</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "aunfold" "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">h</span>) := <span class="id" title="var">autounfold</span> <span class="id" title="keyword">with</span> <span class="id" title="var">asimpl_unfold</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "aunfold" "in" "*" := <span class="id" title="var">autounfold</span> <span class="id" title="keyword">with</span> <span class="id" title="var">asimpl_unfold</span> <span class="id" title="tactic">in</span> ×.<br/>

<br/>
<span class="id" title="var">Declare</span> <span class="id" title="var">Reduction</span> <span class="id" title="var">asimpl_cbn</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#test_qren_id"><span class="id" title="definition">test_qren_id</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#unquote_ren"><span class="id" title="definition">unquote_ren</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren"><span class="id" title="definition">eval_ren</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#apply_ren"><span class="id" title="definition">apply_ren</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren_comp_c"><span class="id" title="definition">eval_ren_comp_c</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#unquote_nat"><span class="id" title="definition">unquote_nat</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AccInSProp.theories.autosubst.unscoped.html#scons"><span class="id" title="definition">scons</span></a><br/>
&nbsp;&nbsp;].<br/>

<br/>
<span class="id" title="var">Declare</span> <span class="id" title="var">Reduction</span> <span class="id" title="var">asimpl_unfold</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="AccInSProp.theories.autosubst.unscoped.html#up_ren"><span class="id" title="definition">up_ren</span></a>, <a class="idref" href="AccInSProp.theories.autosubst.unscoped.html#var_zero"><span class="id" title="definition">var_zero</span></a>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="RenSimplification" class="idref" href="#RenSimplification"><span class="id" title="record">RenSimplification</span></a> (<a id="r:61" class="idref" href="#r:61"><span class="id" title="binder">r</span></a> <a id="s:62" class="idref" href="#s:62"><span class="id" title="binder">s</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <span class="id" title="notation">→</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) := <span class="id" title="var">MkSimplRen</span> {<br/>
&nbsp;&nbsp;<a id="autosubst_simpl_ren" class="idref" href="#autosubst_simpl_ren"><span class="id" title="projection">autosubst_simpl_ren</span></a> : <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/corelib//Corelib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://rocq-prover.org/doc/V9.1.0/corelib//Corelib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#r:61"><span class="id" title="variable">r</span></a> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#s:62"><span class="id" title="variable">s</span></a><br/>
}.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#autosubst_simpl_ren"><span class="id" title="method">autosubst_simpl_ren</span></a> <span class="id" title="var">r</span> {<span class="id" title="var">s</span> <span class="id" title="var">_</span>}.<br/>

<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="var">Mode</span> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#RenSimplification"><span class="id" title="class">RenSimplification</span></a> + - : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 10 (<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#RenSimplification"><span class="id" title="class">RenSimplification</span></a> ?<span class="id" title="var">r</span> <span class="id" title="var">_</span>) ⇒<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">q</span> := <span class="id" title="var">quote_ren</span> <span class="id" title="var">r</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">s</span> := <span class="id" title="tactic">eval</span> <span class="id" title="var">asimpl_cbn</span> <span class="id" title="tactic">in</span> (<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#unquote_ren"><span class="id" title="definition">unquote_ren</span></a> (<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren"><span class="id" title="definition">eval_ren</span></a> <span class="id" title="var">q</span>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">s</span> := <span class="id" title="tactic">eval</span> <span class="id" title="var">asimpl_unfold</span> <span class="id" title="tactic">in</span> <span class="id" title="var">s</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#MkSimplRen"><span class="id" title="constructor">MkSimplRen</span></a> <span class="id" title="var">r</span> <span class="id" title="var">s</span> (<a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#eval_ren_sound"><span class="id" title="lemma">eval_ren_sound</span></a> <span class="id" title="var">q</span>))<br/>
&nbsp;&nbsp;: <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
</div>

<div class="doc">
Triggers

<div class="paragraph"> </div>

  In order to avoid flooding type class resolution with useless cases, we only
  ever rewrite when there are certain triggers.
  By default those are a term with a substitution or renaming in its head.

<div class="paragraph"> </div>

  If you want to support other cases such as triggering renaming simplification
  in a certain judgment, then you need to add the corresponding trigger.

<div class="paragraph"> </div>

  For now, it seems better to have term simplication done using the topdown
  strategy while substitution and renaming simplification performed using the
  the outermost one. We thus use an extra database for the latter.

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Create HintDb</span> <span class="id" title="var">asimpl</span>.<br/>
<span class="id" title="keyword">Create HintDb</span> <span class="id" title="var">asimpl_outermost</span>.<br/>

<br/>
<span class="comment">(*&nbsp;[export] Hint Rewrite -> autosubst_simpl_cterm : asimpl. *)</span><br/>
<span class="comment">(*&nbsp;[export] Hint Rewrite -> autosubst_simpl_cterm_ren : asimpl.
<span class="inlinecode"><span class="id" title="var">export</span></span>&nbsp;Hint&nbsp;Rewrite&nbsp;-&gt;&nbsp;autosubst_simpl_cterm_subst&nbsp;:&nbsp;asimpl.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;[export] Hint Rewrite -> autosubst_simpl_ren : asimpl. *)</span><br/>
<span class="comment">(*&nbsp;[export] Hint Rewrite -> autosubst_simpl_csubst : asimpl. *)</span><br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rasimpl'</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">rewrite_strat</span> (<span class="id" title="var">topdown</span> (<span class="id" title="var">hints</span> <span class="id" title="var">asimpl</span>))) ; [ | (<span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>) ..].<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rasimpl'_outermost</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">rewrite_strat</span> (<span class="id" title="var">outermost</span> (<span class="id" title="var">hints</span> <span class="id" title="var">asimpl_outermost</span>))) ; [ | (<span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>) ..].<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rasimpl</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">aunfold</span> ;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">rasimpl'</span> ;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">rasimpl'_outermost</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Taken&nbsp;from&nbsp;core.minimize&nbsp;*)</span><br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">minimize_in</span> <span class="id" title="var">h</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">first</span> [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="notation">λ</span> <a id="x:65" class="idref" href="#x:65"><span class="id" title="binder"><span id="x:66" class="id">x</span></span></a><span class="id" title="notation">,</span> ?<span class="id" title="var">f</span> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#x:65"><span class="id" title="variable">x</span></a>) <span class="id" title="keyword">with</span> <span class="id" title="var">f</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span><br/>
&nbsp;&nbsp;| <span class="id" title="tactic">change</span> (<span class="id" title="notation">λ</span> <a id="x:67" class="idref" href="#x:67"><span class="id" title="binder"><span id="x:68" class="id">x</span></span></a><span class="id" title="notation">,</span> ?<span class="id" title="var">g</span> (?<span class="id" title="var">f</span> <a class="idref" href="AccInSProp.theories.autosubst.RAsimpl.html#x:67"><span class="id" title="variable">x</span></a>)) <span class="id" title="keyword">with</span> (<a class="idref" href="AccInSProp.theories.autosubst.core.html#funcomp"><span class="id" title="definition">funcomp</span></a> <span class="id" title="var">g</span> <span class="id" title="var">f</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">h</span><br/>
&nbsp;&nbsp;].<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "minimize" "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">h</span>) := <span class="id" title="var">minimize_in</span> <span class="id" title="var">h</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rasimpl'_in</span> <span class="id" title="var">h</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">rewrite_strat</span> (<span class="id" title="var">topdown</span> (<span class="id" title="var">hints</span> <span class="id" title="var">asimpl</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>) ; [ | (<span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>) ..].<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rasimpl'_outermost_in</span> <span class="id" title="var">h</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">rewrite_strat</span> (<span class="id" title="var">outermost</span> (<span class="id" title="var">hints</span> <span class="id" title="var">asimpl_outermost</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>) ; [ | (<span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>) ..].<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rasimpl_in</span> <span class="id" title="var">h</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">aunfold</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span> ;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">rasimpl'_in</span> <span class="id" title="var">h</span> ;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">rasimpl'_outermost_in</span> <span class="id" title="var">h</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "rasimpl" "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">h</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">rasimpl_in</span> <span class="id" title="var">h</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="indexpage.html">Index</a><hr/>This page has been generated by <a href="http://rocq-prover.org/">coqdoc</a>
</div>

</div>

</body>
</html>